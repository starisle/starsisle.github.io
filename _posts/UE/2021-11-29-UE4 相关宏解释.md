---
title: "UE4 相关宏解释"
date: 2021-11-29 15:04:24 +0800
categories: [游戏开发]
tags: [UE4]
pin: false
toc: false
comments: true
author: CK
---


## UPROPERTY 宏
### **属性说明符** 
可被添加到声明，以控制属性与引擎和编辑器诸多方面的相处方式。

`AdvancedDisplay`

属性将被放置在其出现的任意面板的高级（下拉）部分中。

`AssetRegistrySearchable`

`AssetRegistrySearchable` 说明符说明此属性与其值将被自动添加到将此包含为成员变量的所有资源类实例的资源注册表。不可在结构体属性或参数上使用。

`BlueprintAssignable`

只能与组播委托共用。公开属性在蓝图中指定。

`BlueprintAuthorityOnly`

此属性必须为一个组播委托。在蓝图中，其只接受带 `BlueprintAuthorityOnly` 标签的事件。

`BlueprintCallable`

仅用于组播委托。应公开属性在蓝图代码中调用。

`BlueprintGetter=GetterFunctionName`

此属性指定一个自定义存取器函数。如此属性不带 `BlueprintSetter` 或 `BlueprintReadWrite` 标签，则其为隐式 `BlueprintReadOnly`。

`BlueprintReadOnly`

此属性可由蓝图读取，但不能被修改。此说明符与 `BlueprintReadWrite` 说明符不兼容。

`BlueprintReadWrite`

可从蓝图读取或写入此属性。此说明符与 `BlueprintReadOnly` 说明符不兼容。

`BlueprintSetter=SetterFunctionName`

此属性拥有一个自定义编译函数，被隐式标记为 `BlueprintReadWrite`。注意：必须对变异函数进行命名，并为相同类的一部分。

`Category="TopCategory|SubCategory|..."`

指定在蓝图编辑工具中显示时的属性类别。使用 | 运算符定义嵌套类目。

`Config`

此属性将被设为可配置。当前值可被存入与类相关的 `.ini` 文件中，创建后将被加载。无法在默认属性中给定一个值。暗示为 `BlueprintReadOnly`。

`DuplicateTransient`

说明在任意类型的复制中（复制/粘贴、二进制复制等），属性的值应被重设为类默认值。

`EditAnywhere`

说明此属性可通过属性窗口在原型和实例上进行编辑。此说明符与所有"可见"说明符均不兼容。

`EditDefaultsOnly`

说明此属性可通过属性窗口进行编辑，但只能在原型上进行。此说明符与所有"可见"说明符均不兼容。

`EditFixedSize`

只适用于动态数组。这能防止用户通过虚幻编辑器属性窗口修改数组长度。

`EditInline`

允许用户在虚幻编辑器的属性查看器中编辑此属性所引用的Object的属性（只适用于Object引用，包括Object引用的数组）。

`EditInstanceOnly`

说明此属性可通过属性窗口进行编辑，但只能在实例上进行，不能在原型上进行。此说明符与所有"可见"说明符均不兼容。

`Export`

只适用于Object属性（或Object数组）。说明Object被复制时（例如复制/粘贴操作）指定到此属性的Object应整体导出为一个子Object块，而非只是输出Object引用本身。

`GlobalConfig`

工作原理与 `Config` 相似，不同点是无法在子类中进行覆盖。无法在默认属性中对其给定一个值。暗示为 `BlueprintReadOnly`。

`Instanced`

仅限Object（`UCLASS`）属性。此类的一个实例创建时，其将被给定一个Object的特殊副本，指定到默认项中的此属性。用于实例化类默认属性中定义的子Object。暗示为 `EditInline` 和 `Export`。

`Interp`

说明值可随时间由Sequencer中的一个轨道驱动。

`Localized`

此属性的值将拥有一个定义的本地化值。多用于字符串。暗示为 `ReadOnly`。

`Native`

属性为本地：C++代码负责对其进行序列化并公开到[垃圾回收](https://docs.unrealengine.com/4.27/zh-CN/ProgrammingAndScripting/ProgrammingWithCPP/UnrealArchitecture/Objects/Optimizations)。

`NoClear`

阻止从编辑器将此Object引用设为空。隐藏编辑器中的清除（和浏览）按钮。

`NoExport`

只适用于本地类。此属性不应包含在自动生成的类声明中。

`NonPIEDuplicateTransient`

属性将在复制中被重设为默认值，除非其被复制用于PIE会话。

`NonTransactional`

说明对此属性值的修改不会包含在编辑器的撤销/重新执行历史中。

`NotReplicated`

跳过复制。这只会应用到服务请求函数中的结构体成员和参数。

`Replicated`

属性应随网络进行复制。

`ReplicatedUsing=FunctionName`

`ReplicatedUsing` 说明符指定一个回调函数，其在属性通过网络更新时执行。

`RepRetry`

只适用于结构体属性。如果此属性未能完全发送（举例而言：Object引用尚无法通过网络进行序列化），则重新尝试对其的复制。对简单引用而言，这是默认选择；但对结构体而言，这会产生带宽开销，并非优选项。因此在指定此标签之前其均为禁用状态。

`SaveGame`

此说明符可简便地将域显式包含，用于属性关卡中的检查点/保存系统。应在作为游戏存档一部分的所有域上设置此标签，并使用代理归档器对其进行读写。

`SerializeText`

本地属性应被序列化为文本（`ImportText`、`ExportText`）。

`SkipSerialization`

此属性不会被序列化，但仍能导出为一个文本格式（例如用于复制/粘贴操作）。

`SimpleDisplay`

出现在 **细节** 面板中的可见或可编辑属性，无需打开"高级"部分即可见。

`TextExportTransient`

此属性将不会导出为一个文本格式（因此其无法用于复制/粘贴操作）。

`Transient`

属性为临时，意味着其无法被保存或加载。以此方法标记的属性将在加载时被零填充。

`VisibleAnywhere`

说明此属性在所有属性窗口中可见，但无法被编辑。此说明符与"Edit"说明符不兼容。

`VisibleDefaultsOnly`

说明此属性只在原型的属性窗口中可见，无法被编辑。此说明符与所有"Edit"说明符均不兼容。

`VisibleInstanceOnly`

说明此属性只在实例的属性窗口中可见（在原型属性窗口中不可见），无法被编辑。此说明符与所有"Edit"说明符均不兼容。


### **元数据说明符**

声明类、接口、结构体、列举、列举值、函数，或属性时，可添加 **元数据说明符** 来控制其与引擎和编辑器各方面的相处方式。每一种类型的数据结构或成员都有自己的元数据说明符列表。

`AllowAbstract="true/false"`

用于 `Subclass` 和 `SoftClass` 属性。说明抽象类属性是否应显示在类选取器中。

`AllowedClasses="Class1, Class2, .."`

用于 `FSoftObjectPath` 属性。逗号分隔的列表，表明要显示在资源选取器中的资源类类型。

`AllowPreserveRatio`

用于 `Fvector` 属性。在细节面板中显示此属性时将添加一个比率锁。

`ArrayClamp="ArrayProperty"`

用于整数属性。将可在UI中输入的有效值锁定在0和命名数组属性的长度之间。

`AssetBundles`

用于 `SoftObjectPtr` 或 `SoftObjectPath` 属性。主数据资源中使用的束列表命名，指定此引用属于哪个束的一部分。

`BlueprintBaseOnly`

用于 `Subclass` 和 `SoftClass` 属性。说明蓝图类是否应显示在类选取器中。

`BlueprintCompilerGeneratedDefaults`

属性默认项由蓝图编译器生成，`CopyPropertiesForUnrelatedObjects` 在编译后调用时将不会被复制。

`ClampMin="N"`

用于浮点和整数属性。指定可在属性中输入的最小值 `N`。

`ClampMax="N"`

用于浮点和整数属性。指定可在属性中输入的最大值 `N`。

`ConfigHierarchyEditable`

此属性被序列化为一个配置（`.ini`）文件，可在配置层级中的任意处进行设置。

`ContentDir`

由 `FDirectoryPath` 属性使用。说明将使用 `Content` 文件夹中的Slate风格目录选取器来选取路径。

`DisplayAfter="PropertyName"`

在蓝图编辑器中，名为 `PropertyName` 的属性后即刻显示此属性。前提是两个属性属于同一类别，则忽略其在源代码中的顺序进行显示。如多个属性有相同的 `DisplayAfter` 值和相同的 `DisplayPriority` 值，将在指定属性之后，按照自身在标头文件中声明的顺序显示。

`DisplayName="Property Name"`

此属性显示的命名，不显示代码生成的命名。

`DisplayPriority="N"`

如两个属性有相同的 `DisplayAfter` 值，或属于同一类别且无 `DisplayAfter` 元标签，则此属性将决定其顺序。最高优先级值为1，表示 `DisplayPriority` 值为1的属性将在 `DisplayProirity` 值为2的属性之上显示。如多个属性有相同的 `DisplayAfter` 值，其将按照在标头文件中声明的顺序显示。

`DisplayThumbnail="true"`

说明属性是一个资源类型，其应显示选中资源的缩略图。

`EditCondition="BooleanPropertyName"`

对一个布尔属性进行命名，此属性用于说明此属性的编辑是否被禁用。将"!"放置在属性命名前可颠倒测试。

`EditFixedOrder`

使排列的元素无法通过拖拽来重新排序。

`ExactClass="true"`

结合 `AllowedClasses` 用于 `FSoftObjectPath` 属性。说明是否只能使用 `AllowedClasses` 中指定的准确类，或子类是否同样有效。

`ExposeFunctionCategories="Category1, Category2, .."`

在蓝图编辑器中编译一个函数列表时，指定其函数应被公开的类目的列表。

`ExposeOnSpawn="true"`

指定此属性是否应在此类类型的一个Spawn Actor节点上公开。

`FilePathFilter="FileType"`

由 `FFilePath` 属性使用。说明在文件选取器中显示的路径过滤器。常规值包括"uasset"和"umap"，但这些并非唯一可能的值。

`GetByRef`

使该属性的"Get"蓝图节点返回对属性的常量引用，而不是其值的副本。只对稀疏类数据生效，只能在不存在 `NoGetter` 时使用。

`HideAlphaChannel`

用于 `Fcolor` 和 `FLinearColor` 属性。说明详细显示属性控件时 `Alpha` 属性应为隐藏状态。

`HideViewOptions`

用于 `Subclass` 和 `SoftClass` 属性。隐藏在类选取器中修改显示选项的功能。

`InlineEditConditionToggle`

表示出布尔属性只内联显示为其他属性中的一个编辑条件切换，不应显示在其自身的行上。

`LongPackageName`

由 `FDirectoryPath` 属性使用。将路径转换为一个长的包命名。

`MakeEditWidget`

用于变换或旋转体属性，或变换/旋转体的排列。说明属性应在视口中公开为一个可移动控件。

`NoGetter`

防止蓝图为该属性生成一个"get"节点。只对稀疏类数据生效。


## UClasses 宏
### **类说明符**
声明类时，可以为声明添加 **类说明符**，以控制类相对于引擎和编辑器的各个方面的行为。

`Abstract`

**Abstract** 说明符会将类声明为"抽象基类"，阻止用户向关卡中添加此类的Actor。对于单独存在时没有意义的类，此说明符非常有用。

`AdvancedClassDisplay`

**AdvancedClassDisplay** 说明符强制类的所有属性仅在显示这些属性的"细节（Details）"面板的["高级（Advanced）"部分](https://docs.unrealengine.com/4.27/zh-CN/BuildingWorlds/LevelEditor/Details)中显示。要覆盖单个属性上的此说明符，在该属性上使用`SimpleDisplay`说明符。

`AutoCollapseCategories=(Category1, Category2, ...)`

`AutoCollapseCategories`说明符使父类上的 **AutoExpandCategories** 说明符的列出类别的效果无效。

`AutoExpandCategories=(Category1, Category2, ...)`

为此类的对象指定应自动在虚幻编辑器属性窗口中展开的一个或多个类别。要自动展开未使用类别声明的变量，请使用声明变量的类的名称。

`Blueprintable`

将此类公开为用于创建蓝图的可接受基类。默认为`NotBlueprintable`，除非继承时就并非如此。此说明符由子类继承。

`BlueprintType`

将此类公开为可用于蓝图中的变量的类型。

`ClassGroup=GroupName`

指示在虚幻编辑器的Actor浏览器中启用 **组视图（Group View）** 时，**Actor浏览器** 应在指定的 `GroupName` 中包含此类及此类的所有子类。

`CollapseCategories`

指示此类的属性不应划分到虚幻编辑器属性窗口的类别中。此说明符会传播到子类，可由`DontCollapseCategories`说明符覆盖。

`Config=ConfigName`

指示此类可在配置文件（`.ini`）中存储数据。如果存在任何使用`config`或`globalconfig`说明符声明的类属性，此说明符将使这些属性存储在指定的配置文件中。此说明符会传播到所有子类并且无法使此说明符无效，但是子类可通过重新声明`config`说明符并提供不同的`ConfigName`来更改配置文件。常见的`ConfigName`值是"Engine"、"Editor"、"Input"和"Game"。

`Const`

此类中的所有属性和函数都是`const`并且导出为`const`。此说明符由子类继承。

`ConversionRoot`

根转换，将子类限制为仅可沿层级向上转换为第一个根类的子类。

`CustomConstructor`

阻止构造函数声明自动生成。

`DefaultToInstanced`

此类的所有实例都被认为是"实例化的"。实例化的类（组件）将在构造时被复制。此说明符由子类继承。

`DependsOn=(ClassName1, ClassName2, ...)`

列出的所有类将先于此类被编译。提供的类名必须指示同一个或前一个包中的类。可以使用单个`DependsOn`行（以逗号分隔）来标识多个依赖类，或者可以通过为每个类使用单独的`DependsOn`行来指定多个依赖类。当某个类使用在另一个类中声明的结构体或枚举时，这非常重要，因为编译器仅知道它已编译了类中的哪些部分。

`Deprecated`

此类已弃用，序列化时将不保存此类的对象。此说明符由子类继承。

`DontAutoCollapseCategories=(Category, Category, ...)`

使列出的类别的继承自父类的`AutoCollapseCategories`说明符无效。

`DontCollapseCategories`

使继承自基类的`CollapseCatogories`说明符无效。

`EditInlineNew`

指示可以从虚幻编辑器"属性（Property）"窗口创建此类的对象，而非从现有资源引用。默认行为是仅可通过"属性（Property）"窗口指定对现有对象的引用。此说明符会传播到所有子类；子类可通过 `NotEditInlineNew` 说明符覆盖它。

`HideCategories=(Category1, Category2, ...)`

列出一个或多个应该对用户完全隐藏的分类。要隐藏未使用类别声明的属性，请使用声明变量的类的名称。此说明符会传播到子类。

`HideDropdown`

阻止此类在属性窗口组合框中显示。

`HideFunctions=(Category1, Category2, ...)`

让指定分类中的所有函数都对用户完全隐藏。

`HideFunctions=FunctionName`

将提到的函数对用户完全隐藏。

`Intrinsic`

指示此类直接在C++中声明，无 **Unreal Header Tool** 生成的样板。请勿在新类上使用此说明符。

`MinimalAPI`

导致仅导出此类的类型信息，以供其他模块使用。可以以此类为目标进行强制转换，但此类的函数无法被调用（除了使用内联方法）。这可以缩短编译时间，因为没有针对无需从其他模块访问其所有函数的类导出一切。

`NoExport`

指示此类的声明不应包含在由标头生成器自动生成的C++头文件中。必须在单独的头文件中手动定义该C++类声明。仅对本地类有效。请勿对新类使用此说明符。

`NonTransient`

使继承自基类的`Transient`说明符无效。

`NotBlueprintable`

指定此类不是可用于创建蓝图的可接受基类。此为默认说明符，将由子类继承。

`NotPlaceable`

使继承自基类的`Placeable`说明符无效。指示不可以在编辑器中将此类的对象放置到关卡、UI场景或蓝图中。

`PerObjectConfig`

此类的配置信息将按对象存储，在``.ini`文件中，每个对象都有一个分段，根据对象命名，格式为``[ObjectName ClassName]`。此说明符会传播到子类。

`Placeable`

指示可在编辑器中创建此类，而且可将此类放置到关卡、UI场景或蓝图（取决于类类型）中。此标志会传播到所有子类；子类可使用`NotPlaceable`说明符覆盖此标志。

`ShowCategories=(Category1, Category2, ...)`

使列出的类别的继承自基类的`HideCategories`说明符无效。

`ShowFunctions=(Category1, Category2, ...)`

在属性查看器中显示列出的类别中的所有函数。

`ShowFunctions=FunctionName`

在属性查看器中显示指定的函数。

`Transient`

从不将属于此类的对象保存到磁盘。当与播放器或窗口等本质上不持久的特定种类的原生类配合使用时，它非常有用。此说明符会传播到子类，但是可由`NonTransient`说明符覆盖。

`Within=OuterClassName`

此类的对象无法在`OuterClassName`对象的实例之外存在。这意味着，要创建此类的对象，需要提供`OuterClassName`的一个实例作为其`Outer`对象。


### **元数据说明符**

声明类、接口、结构体、列举、列举值、函数，或属性时，可添加 **元数据说明符** 来控制其与引擎和编辑器各方面的相处方式。每一种类型的数据结构或成员都有自己的元数据说明符列表。


`BlueprintSpawnableComponent`

如其存在，组件类可由蓝图生成。

`BlueprintThreadSafe`

只在蓝图函数库上有效。此说明符将把此类中的函数在动画蓝图中的非游戏线程上标记为可调用。

`ChildCannotTick`

用于Actor和组件类。如果本地类无法tick，那么基于此Actor或组件的蓝图生成类则无法tick，即使 `bCanBlueprintsTickByDefault` 为true也同样如此。

`ChildCanTick`

用于Actor和组件类。如果本地类无法tick，那么可以覆盖基于此Actor或组件的蓝图生成类的 `bCanEverTick` 标签，即使 `bCanBlueprintsTickByDefault` 为false也同样如此。

`DeprecatedNode`

用于行为树节点，说明类已废弃，编译时将显示一条警告。

`DeprecationMessage="Message Text"`

如果类已废弃，尝试编译使用此类的蓝图时，其将被添加到标准废弃警告。

`DisplayName="Blueprint Node Name"`

此节点在蓝图中的命名将被此处提供的值所取代，而非代码生成的命名。

`DontUseGenericSpawnObject`

不使用蓝图中的Generic Create Object节点来生成类的一个对象。此说明符只有在用于既非Actor又非ActorComponent的BluprintType类时才有意义。

`ExposedAsyncProxy`

在 **Async Task** 节点中公开此类的一个代理对象。

`IgnoreCategoryKeywordsInSubclasses`

用于让一个类的首个子类忽略所有继承的 `ShowCategories` 和 `HideCategories` 说明符。

`IsBlueprintBase="true/false"`

说明此类是否为创建蓝图的一个可接受基类，与 `UCLASS` 说明符、`Blueprintable` 或 'NotBlueprintable` 相似。

`KismetHideOverrides="Event1, Event2, .."`

不允许被覆盖的蓝图事件的列表。

`ProhibitedInterfaces="Interface1, Interface2, .."`

列出与类不兼容的接口。

`RestrictedToClasses="Class1, Class2, .."`

由蓝图函数库类使用，用于限制列表中命名类的用法。

`ShortToolTip="Short tooltip"`

完整提示文本过长时使用的简短提示文本，例如父类选取器对话。

`ShowWorldContextPin`

说明放置在此类拥有的图表中的蓝图节点必须显式其World情景引脚（即使其通常状态下为隐藏也同样如此），因为此类的对象无法被用作World情景。

`UsesHierarchy`

说明类使用层级数据。用于实例化"细节"面板中的层级编辑功能。

`ToolTip="Hand-written tooltip"`

覆盖从代码注释自动生成的提示文本。